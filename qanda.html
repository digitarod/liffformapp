<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>質問フォーム - Gemini対応</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
    }
    #question {
      width: 100%;
      height: 100px;
    }
    #answerLabel {
      display: block;
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>質問フォーム</h2>
  <textarea id="question" placeholder="質問を入力してください"></textarea>
  <br><br>
  <button onclick="submitQuestion()">回答を取得</button>
  <br><br>
  <label id="answerLabel">回答がここに表示されます</label>

  <script>
    async function submitQuestion() {
      const question = document.getElementById("question").value.trim();
      if (!question) {
        document.getElementById("answerLabel").innerText = "質問を入力してください。";
        return;
      }

      const apiKey = "AIzaSyCnDAcNNFww_JVe-UZLCukIe2LXOSsDL7U"; // ここにGoogle GeminiのAPIキーを入力してください
      const apiUrl = "https://api.google.com/gemini/v1/ask"; // 実際のGemini APIのエンドポイントに置き換えてください

      // APIリクエストの構築
      const requestData = {
        prompt: question,
        max_tokens: 100  // 回答のトークン数を指定します。必要に応じて調整してください。
      };

      // APIへのリクエストを送信
      try {
        const response = await fetch(apiUrl, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${apiKey}`
          },
          body: JSON.stringify(requestData)
        });

        // レスポンスの解析
        if (response.ok) {
          const data = await response.json();
          const answer = data.choices[0].message || "回答を取得できませんでした。";
          document.getElementById("answerLabel").innerText = answer;
        } else {
          document.getElementById("answerLabel").innerText = "エラーが発生しました。";
        }
      } catch (error) {
        console.error("APIリクエストエラー:", error);
        document.getElementById("answerLabel").innerText = "エラーが発生しました。";
      }
    }
  </script>
</body>
</html>
